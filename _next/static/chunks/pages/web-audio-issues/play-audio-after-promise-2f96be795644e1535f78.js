_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{eijD:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}n.d(t,"a",(function(){return i}))},hfmh:function(e,t,n){"use strict";n.r(t);var r=n("oYCi"),i=n("NthX"),o=n.n(i),s=n("eijD"),a=n("mXGw");t.default=function(){var e=Object(a.useState)(),t=e[0],n=e[1],i=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(void 0),e.next=3,new Promise((function(e){return setTimeout(e,2e3)}));case 3:new Audio("https://www.videomaker.com/sites/videomaker.com/files/downloads/free-sound-effects/Free_ExplosionSharp_6048_97_1.wav").play().catch((function(e){n(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"mb-4",children:"Clicking play resolves a promise before playing audio"}),Object(r.jsx)("p",{className:"mb-4 text-red-600",children:"On iOS this results in the error: The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission."}),Object(r.jsx)("button",{className:"border-2 border-green-700 bg-green-500 text-white rounded-md px-4 py-2 text-center",onClick:i,children:"Play after resolving a promise \u25b6"}),t&&Object(r.jsxs)("div",{className:"mt-4 text-red-600",children:["AUDIO ERROR: ",t.message]})]})}},zI9a:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/web-audio-issues/play-audio-after-promise",function(){return n("hfmh")}])}},[["zI9a",0,1,2]]]);